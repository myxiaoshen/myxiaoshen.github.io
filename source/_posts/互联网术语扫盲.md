title: '互联网术语扫盲 '
author: Believe firmly
date: 2021-06-10 19:29:40

tags:
---
#### 认证 
cookie 存储在客户端： cookie 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。

session 再中间件的内存中：它是与cookie的一个桥梁，可以把它想成一个服务端控制器用来监控客户端的认证状态，默认根据中间件设置失效时间。:用户第一次请求服务器的时候，服务器根据用户提交的相关信息，创建对应的 Session，请求返回时将此 Session 的唯一标识信息 SessionID 返回给浏览器（这个时候就可以达到更新和监控认证的作用）

token 是一个可交互式的令牌认证：客户端发起求情，服务端会根据信息生成令牌，服务器基于特定的加密形式来生成令牌字符串，保存在客户端（服务端的数据库），添加时效，可以基于令牌持续与服务器进行交互。可拓展性非常高，可以实现跨平台使用。

JWT ：当用户输入用户名/密码登录，服务端认证成功后，会返回给客户端一个 JWT。和token差不多的认证方式，区别只有加密方式。jwt可以减少服务器的压力解密是通过算法来实现的但安全性没有token高。
<!--more--> 

#### 网络抓包技术
##### LAN TAP

![1719987995551](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/1719987995551.jpg)

<b>要注意的是，抓包机器这样接入TAP后，自身是无法上网的！</b>
在抓包机器上，执行 tshark-D 命令，获得系统里当前可以抓包的所有接口列表。需要对哪个接口抓包，可以用 -i 参数指定。如下图的网卡列表中，排名第一的 "1.enp0s25" 即为系统自带有线网卡，排名第二的 “2. enx00e04c680039” 是USB接口的有线网卡。如果需要同时对两块网卡做抓包，只需要在 tshark -i 参数后，加入网卡编号即可。所以最后执行的命令为： tshark-i 1-i 2 -w cap2.pcap，就可以把流经TAP的全部流量，保存到 cap2.pcap 文件里。
![](https://pic.rmb.bdstatic.com/bjh/8d55d1a647cfa135b682fff8c7780549.png)

##### 端口镜像与路由
这类设备使用方式取决于不同的品牌和型号，请阅读相关说明说。在我们这款设备中，只需要把监控机器接到某个网络接口（下图中抓包机器接在端口5上），并访问内置Web控制台，从Web控制台上，指定对哪个或哪几个端口进行流量镜像即可（下图中需要被抓包的机器在端口4上）。 配置示例如下图：
![](https://pic.rmb.bdstatic.com/bjh/78b71982deed6d804d855ea986f99ba4.png)
有些软路由带抓包功能如likuai与lede也是非常方便调试。

##### fiddler
web分析建议用burpsuite更加专注web测试与fuzz，但fiddler比burp全能
fiddler特点：自定义脚本、请求自动响应（可以用来重放一些二次认证数据包）
![](https://pic.rmb.bdstatic.com/bjh/41a596c46d8b34e9a99d3c45245e2e5e.png)
##### wireshark
Wireshark是非常热门的网络封包分析软件，可以说是网络分析必备的好软。可以截取各种网络数据包，并显示数据包详细信息。常用于开发测试过程各种问题定位。加密的流量是无法直接查看的如：https和c2流量需要拿到密钥或者证书才能解密。
<b>ps:可以配合其他工具抓出的数据包导入或者直接拖入wireshark进行分析很方便</b>
![](https://pic.rmb.bdstatic.com/bjh/a66b5b4bdf75ca935f50656f9300458f.png)
过滤语法如下

```bash
过滤地址
ip.addr==192.168.10.10  或  ip.addr eq 192.168.10.10  #过滤地址
ip.src==192.168.10.10 #过滤源地址
ip.dst==192.168.10.10 #过滤目的地址
 
过滤协议，直接输入协议名
icmp 
http

过滤协议和端口
tcp.port==80
tcp.srcport==80
tcp.dstport==80
 
过滤http协议的请求方式
http.request.method=="GET"
http.request.method=="POST"

连接符
&&  
||
and
or

通过连接符可以把上面的命令连接在一起，比如：
ip.src==192.168.10.10 and http.request.method=="POST
```

#### 架构建设技术

这里强烈推荐一个[视频](https://www.bilibili.com/video/BV18E411F7XM)非常直观的说明了互联网架构的演变与组成

传统架构技术
![](https://pic.rmb.bdstatic.com/bjh/840b56a2875e6e2d46d1e39b69a03ecb.png)

微服务架构的核心

![1719987890389](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/1719987890389.jpg)

云服务架构
![](https://pic.rmb.bdstatic.com/bjh/5ba56c87dd429f5e22dbc156189477c8.png)

> 落拓的架构图

![](https://ftp.bmp.ovh/imgs/2021/12/d2a02590bee051c4.jpg)

> 雷神老师的若依框架架构图可以参考：

![1719987867959](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/1719987867959.jpg)

> 雷神老师的尚医通框架架构图可以参考：

![page_1 - 副本.png](https://cdn.nlark.com/yuque/0/2021/png/1613913/1632189649799-e486abb0-5195-4282-aef0-c8a3692c0054.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_34%2Ctext_YXRndWlndS5jb20gIOWwmuehheiwtw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10)

这里通过一张图呈现服务架构常用的组件以及体系：

![](https://ice.frostsky.com/2023/09/20/9e689f89c2f08971f20d0215e039a876.png)

##### 负载均衡与集群：

<b>负载均衡</b>: 全局负载均衡主要解决全球用户只需一个域名或IP地址就能,访问到离自己距离最近的服务器获得最快的访问速度,或者是空闲的服务器。
![](https://pic.rmb.bdstatic.com/bjh/e1423afad1907e98b90d40f049a84302.png)
<b>集群</b>: 服务器集群就是指将很多服务器集中起来一起进行同一种服务,在客户端看来就像是只有一个服务器。集群可以利用多个计算机进行并行计算从而获得很高的计算速度,也可以用多个计算机做备份,从而使得任何一个机器坏了整个系统还是能正常运行。

######  数据库与集群设计：

异构数据ETL同步，一般基于两种方式：查询和日志，基于查询做全量同步，基于日志做增量同步，日志方式延迟会比较小，查询来做增量，延迟会比较大，查询频率越高，对数据库性能也会有影响。通常可以直接使用开源工具或者用数据库自带的程序实现常见的有OGG、SeaTunnel 前面2个是大厂的上手有点难度，比较推荐的开源可用chunjun、Airbyte，方便上手可以用**[dbsyncer](https://github.com/86dbs/dbsyncer)**与非常出名的DataX-Web、tis-uber。下面是CDC产品对比

![](https://camo.githubusercontent.com/61557a65c89344551da4ad9f59cb955a380df1e15f57ff77e53fcb501bf7f7bb/68747470733a2f2f696d672e616c6963646e2e636f6d2f696d6765787472612f69322f4f31434e3031626668664b533232676b5a4a79437175505f2121363030303030303030373135302d322d7470732d3836362d3438372e706e67)

<b>数据库读写分离</b>: 为了确保数据库产品的稳定性,很多数据库拥有双机热备功能。也就是,第一台数据库服务器,是对外提供增删改查业务的生产服务器;第二台数据库服务器,仅仅接收来自第一台服务器的备份数据一个主库用于写数据,多个从库完成读数据的操作,主从库之间通过某种机制进行数据的同步,是一种常见的数据库架构。
![](https://pic.rmb.bdstatic.com/bjh/b523ef0863e7a48b038f8d129802f16e.png)
<b>垂直拆分:</b>垂直拆分是把不同的表拆到不同的数据库中。一个数据库由很多表的构成,每个表对应着不同的业务,垂直切分是指按照业务将表进行分类,分布到不同的数据库上面,这样也就将数据或者说压力分担到不同的库上面
![](https://pic.rmb.bdstatic.com/bjh/4b9372303d73396a9087dd19cfda24dd.png)
<b>水平拆分:</b>水平拆分是把同一个表拆到不同的数据库中。我们可以将数据的水平切分理解为是按照数据行的切分，就是将表中 的某些行切分到一个数据库，而另外的某些行又切分到其他的数据库中，主要有分表，分库两种模式，如图：
![](https://pic.rmb.bdstatic.com/bjh/eb443a54c175ff27aecaef8ee3b9c13a.png)
![](https://pic.rmb.bdstatic.com/bjh/a1b8e7386704e7c200c579bdd10b2a04.png)

**数据库一致型主从复制通常使用Binlog主服务器将更改记录在二进制日志中Oracle建议使用[oggm](https://blog.csdn.net/bendywu/article/details/124978506)可以更加灵活的实现业务需求，从服务器读取这些日志并应用它们来保持同步。读写分离与分库分表可以使用mycat等数据库中间件实现。中间件对比如下图** 

![img](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/c191028a06f59b86475239bfa4f072b7.png)

##### 存储架构：

DAS和SAN是基于物理块的存储方式，而NAS是基于文件的存储方式。块存储的操作对象是磁盘，存储协议是SCSI、ISCSI、FC。文件存储的操作对象是文件和文件夹，存储协议是NFS、SAMBA（SMB）、POSIX等。

对象存储，主要操作对象是对象（Object），存储协议是S3、Swift等。在对象存储系统里，你不能直接打开或者修改文件，只能先下载、修改，再上传文件。

![1719987534844](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/1719987534844.jpg)

![1719987557586](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/1719987557586.jpg)

自建存储服务，快速部署测试可以直接用Windows自带的网络存储。可以通过如下系统搭建NAS/SAN，个人用过TureNAS与OpenMediaVault前者功能齐全后者简单界面直观。

![image-20240703142245408](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/image-20240703142245408.png)

##### 访问架构层：

![](https://files.catbox.moe/0yy5id.png)
　　　　LVS、Nginx

##### 容器：
　　　　docker、kubernetes、K8S
##### 缓存：
　　　　cdn、memcache、redis、Nginx、本地缓存等。

##### 高并发常见面试题：

1、方案一具体流程

（1）更新数据库数据；

（2）缓存因为种种问题删除失败；

（3）将需要删除的key发送至消息队列；

（4）自己消费消息，获得需要删除的key；

（5）继续重试删除操作，直到成功。

2、方案二具体流程

（1）更新数据库数据；

（2）数据库会将操作信息写入binlog日志当中；

（3）订阅程序提取出所需要的数据以及key；

（4）另起一段非业务代码，获得该信息；

（5）尝试删除缓存操作，发现删除失败；

（6）将这些信息发送至消息队列；

（7）重新从消息队列中获得该数据，重试操作。

1. 缓存穿透：

是指查询一个不存在的数据，由于缓存无法命中，将去查询数据库，但是数据库也无此记录，并且出于容错考虑，我们没有将这次查询的null写入缓存，这将导致这个不存在的数据每次请求都要到存储层去查询，失去了缓存的意义。在流量大时，可能DB就挂掉了，要是有人利用不存在的key频繁攻击我们的应用，这就是漏洞。

解决方案：空结果也进行缓存，可以设置一个空对象，但它的过期时间会很短，最长不超过五分钟。 或者用布隆过滤器也可以解决，Redisson框架中有布隆过滤器。

2. 缓存雪崩：

是指在我们设置缓存时采用了相同的过期时间，导致缓存在某一时刻同时失效，请求全部转发到DB，DB瞬时压力过重雪崩。

解决方案：原有的失效时间基础上增加一个随机值，比如1-5分钟随机，这样每一个缓存的过期时间的重复率就会降低，就很难引发集体失效的事件。

3. 缓存击穿

是指对于一些设置了过期时间的key，如果这些key可能会在某些时间点被超高并发地访问，是一种非常“热点”的数据。这个时候，需要考虑一个问题：如果这个key在大量请求同时进来之前正好失效，那么所有对这个key的数据查询都落到DB，我们称为缓存击穿。

解决方案：在分布式的环境下，应使用分布式锁来解决，分布式锁的实现方案有多种，比如使用Redis的setnx、使用Zookeeper的临时顺序节点等来实现

##### 调度中心,注册中心：

![](https://files.catbox.moe/k6xtw2.png)

> 服务注册中心本质上是为了解耦服务提供者和服务消费者。对于任何一个微服务，原则上都应存在或者支持多个提供者，这是由微服务的分布式属性决定的

|                 | ** Nacos**                 | **Eureka**  | **Consul**        | **CoreDNS** | **Zookeeper** |
| :-------------- | :------------------------- | :---------- | :---------------- | :---------- | ------------- |
| 一致性协议      | CP+AP                      | AP          | CP                | —           | CP            |
| 健康检查        | TCP/HTTP/MYSQL/Client Beat | Client Beat | TCP/HTTP/gRPC/Cmd | —           | Keep Alive    |
| 负载均衡策略    | 权重/ metadata/Selector    | Ribbon      | Fabio             | RoundRobin  | —             |
| 雪崩保护        | 有                         | 有          | 无                | 无          | 无            |
| 自动注销实例    | 支持                       | 支持        | 支持              | 不支持      | 支持          |
| 访问协议        | HTTP/DNS                   | HTTP        | HTTP/DNS          | DNS         | TCP           |
| 监听支持        | 支持                       | 支持        | 支持              | 不支持      | 支持          |
| 多数据中心      | 支持                       | 支持        | 支持              | 不支持      | 不支持        |
| 跨注册中心同步  | 支持                       | 不支持      | 支持              | 不支持      | 不支持        |
| SpringCloud集成 | 支持                       | 支持        | 支持              | 不支持      | 支持          |
| Dubbo集成       | 支持                       | 不支持      | 支持              | 不支持      | 支持          |
| K8S集成         | 支持                       | 不支持      | 支持              | 支持        | 不支持        |

##### 服务保护：

主要提供熔断保护和快速降级保证服务能够正常使用，通常使用sentinel和Hystrix

##### rpc框架：

和api的区别是RESTful API 使用HTTP协议通过 JSON 或 XML 格式来进行编码，而 RPC 可以使用多种协议多种编码方式进行编码，下面是rpc的相应过程

 ![1719988069811](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/1719988069811.jpg)

　　　　**Dubbo**、Thrift、GRPC、Netty
　　　　dubbo是阿里开源的Java语言开发的高性能RPC框架，在阿里系的诸多架构中，都使用了dubbo + spring boot

##### 消息队列：
![](https://ftp.bmp.ovh/imgs/2022/01/4e413a53d66eb302.png)
　　　　kafka、rabbitMQ、rocketMQ、QSP
　　　　消息队列的应用场景：异步处理、应用解耦、流量削锋和消息通讯

##### 大数据中台:

通常出于数据层与后台管理系统之间分析传输数据，然后通过算法推送给用户合理的信息。

可视数据平台：

　　　	storm、akka

   三方：ecnarts finereport finebi

离线数据平台：

　　　　hadoop、spark
　　　　PS: apark、akka、kafka都是scala语言写的 

##### dbproxy：
　　　　cobar也是阿里开源的，在阿里系中使用也非常广泛，是关系型数据库的sharding + replica 代理

##### 搜索：
　　　　elasticsearch、solr
##### 日志：
　　　　rsyslog、elk、flume、Splunk 

##### 监控

容器化架构上prometheus，传统架构上zabbix，或者更轻量化的探针。

![](https://ucc.alicdn.com/pic/developer-ecology/356dc85f2c0f43f89165fd797c95139c.png)

#### web开发发展历程

可以直接参考CSDN原文：https://blog.csdn.net/hands_up_down/article/details/137022132

![image-20240703143625457](https://cdn.jsdelivr.net/gh/myxiaoshen/mypic/img/image-20240703143625457.png)

#### 零/低代码平台:

![](https://ftp.bmp.ovh/imgs/2021/06/4d9ad183ae170835.png)
[平台收集](https://github.com/taowen/awesome-lowcode):个人推荐无远和ivx

Java代码开源低代码可以试试：JECloud与Jeecg-Boot，单纯增删改查对于后端程序员可以用[crudapi](https://www.crudapi.cn/)

**Electron和uni-app**：可配合达到一套代码多端适配

#### 物联网平台

[物美平台](https://gitee.com/kerwincui/wumei-smart): 多端适配的一个物联网平台可用于二开和做多端适配

[JetLinks物联网平台](https://www.jetlinks.cn/col.jsp?id=105) ：经济实用,灵活的设备接入方式,多消息协议
支持,支持MQTT, TCP网络协议 (免费版不支持Http,WebSocket,CoAp)

[dgiot平台:](https://gitee.com/dgiiot/dgiot)支持 HTTP、MQTT 、CoAp 等协议， 属性数据和遥测数据协议简单类型丰富，**完全开源**，社区资源较多。
