title: 网络中的那些信息搜集
author: Believe firmly
date: 2021-06-06 12:33:23
tags:
---
**网站图列与排版问题太乱了，通用的信息收集发l站了自行make：https://linux.do/t/topic/123190**

大家都知道在生活中往往会在需要对目标进行信息收集的时候，或者在攻防演练时我们更多的称之为外围打点，即需要发现能够获取权限的漏洞，利用从而进入目标内网。大多数情况下，利用漏洞其实大家已经不成问题了，更多的场景是找不到这个入口点，下面整理一些常用的信息收集方法。

<b>搜索小技巧：通过搜索引擎多使用关键字：1.xx在线工具 2.xx破解版 3.在线xx 4. xx补丁 5.xx+当前年份 6.云xx 7.最好的xx 8.xx推荐  9.xx之类的 xx替代 10.中英互转搜索(推荐DeeL翻译) 11.xx特别版。 这里还要提醒一下多利用热门平台搜索关键字：如手机的酷安、云盘加速器等白嫖服务可以进油猴和B站以及油管</b>

热门服务关键字搜索平台：手机-酷安 、云盘以及加速器服务-油猴和B站以及YOUTUBE 软件和信息站-克隆屋、和[233信息](https://233heji.com/)

### 一、通用的网站信息收集
先这里推荐几个工具，大家可以在这些工具的基础上进行修改，当然不改也是可以的，工具本身已经非常好用了：[Oneforall](https://github.com/shmilylty/OneForAll)、Teemo、subDomainsBrute这三款工具基本上已经满足了搜集二级域名的所有需求，包括枚举、证书、DNS、威胁情报、搜索引擎等多个维度获取信息。当然也可以使用Google语法搜索。
#### Google语法
```
site：可以限制你搜索范围的域名；
inurl：用于搜索网页上包含的URL，这个语法对寻找网页上的搜索，帮助之类的很有用；
intext: 只搜索网页<body>部分中包含的文字(也就是忽略了标题、URL等的文字)；
intitle: 查包含关键词的页面，一般用于社工别人的webshell密码；
filetype：搜索文件的后缀或者扩展名；
intitle：限制你搜索的网页标题；
- :-号可以过滤一些不需要的关键字
```
<!--more-->
##### 一般OSINT
- 查目标与控股单位，如果能内网连通或实地考察即可高效攻击
- 在单位公布的重要方案、文档里可能找到IP、默认账号密码等源代码招投标信息，摸排供应链信息，并分析⽬标直接供应商 [尤其是技术外包]
- 移动端资产收集：微信公众号和小程序还是用手机微信搜索比较方便，也可以通过搜狗来发现目标大概有哪些公众号，往往还是抓包测试。
- 移动端资产收集：微信公众号和小程序还是用手机微信搜索比较方便，也可以通过搜狗来发现目标大概有哪些公众号，往往还是抓包测试。




#### whois
<blockquote><p>国外的who.is：<a href="https://who.is/" ref=""><u>https://who.is/</u></a>&nbsp;</p><p>站长之家：<a href="http://whois.chinaz.com/"><u>http://whois.chinaz.com/</u></a></p><p>爱站：<a href="https://whois.aizhan.com/"><u>https://whois.aizhan.com/</u></a>&nbsp;</p><p>微步：<a href="https://x.threatbook.cn/"><u>https://x.threatbook.cn/</u></a>&nbsp;</p></blockquote>
这些网站都可以收集whois信息，而且还很全面，我主要关注：注册商、注册人、邮件、DNS解析服务器、注册人联系电话。
#### 子域名与C段
建议直接上[Oneforall](https://github.com/shmilylty/OneForAll)工具还有layaer 和 subDomainsBrute 工具，可以从子域名入侵到主站。使用工具会进行枚举和dns泄露信息收集成功率最高。在https://github.com/ 上也可以搜索子域名，运气好的话，会有意想不到的收获。
还是推荐几个常用的：
DNS数据集查询：
（1）robtex：https://www.robtex.com/
（2）DNSdumpster：https://dnsdumpster.com/ 
（3）DNS解析返回：https://mxtoolbox.com/ 

枚举和结构查询:
（1）https://phpinfo.me/domain/
（2）https://urlscan.io/
C段：
<blockquote><p>（1）利用Bing.com，语法为：<a href="http://cn.bing.com/search?q=ip:111.111.111.111"><u>http://cn.bing.com/search?q=ip:111.111.111.111</u></a>&nbsp;</p><p>（2）站长之家：<a href="http://s.tool.chinaz.com/same"><u>http://s.tool.chinaz.com/same</u></a>&nbsp;</p><p>（3）利用Google，语法：site:125.125.125.*</p><p>（4）利用Nmap，语法：nmap &nbsp;-p &nbsp;80,8080 &nbsp;--open &nbsp;ip/24</p><p>（5）https://phpinfo.me/index.php/archives/1000/</p><p style="text-align: justify;">（6）在线：<a href="http://www.webscan.cc/"><u>http://www.webscan.cc/</u></a>&nbsp;</p></blockquote>

基于SSL证书查询:
（1）https://crt.sh/

（2）https://censys.io/

ip追踪与重定向：
（1）dana.sallow推荐：https://www.websiteplanet.com/zh-hans/webtools/redirected/
（2）在线tracert：http://www.webkaka.com/Tracert.aspx

#### 安全架构识别
这里笔者不着重介绍网络安全相关的内容相关内容可以跳转到(个人总结)[https://xlmy.net/2020/08/06/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%8A%80%E5%B7%A7%E6%B1%87%E6%80%BB%E7%AC%94%E8%AE%B0/]
##### 开放端口探测
很多时候，网站都会开启CDN加速，导致我们查询到的IP不是真实的IP，所以得先查询到真实的IP地址。方法有很多，百度一大把。就说我觉得最准确的几种方法吧！内网直接Angry IP Scanner然后配合nmap收集终端。
（1）通过让服务器给你发邮件(看邮箱头源 ip )找真实ip（最可靠）。

（2）通过 zmpap 全网爆破查询真实ip（可靠）。

（3）通过查询域名历史ip，http://toolbar.netcraft.com（借鉴）。

（4）通过国外冷门的DNS的查询：nslookup xxx.com国外冷门DNS地址（借鉴）。

 (5) 通过证书此方法适用于https的站点首先获得网站证书序列号（不要挂代理）
![](https://image.3001.net/images/20210321/1616306403_6056e0e343ceea91eae26.png)
查看证书将证书转换为10进制


收集到IP，那就要进行端口扫描了，看看有什么常见的漏洞。（如何是局域网获取可用静态ip段可以用wirshark或者科来网络分析系统找心跳包原理就是会广播数据）

最常用的就是神器Nmap了。命令：nmap  -T4  -sT  -p-  -sV  ip

##### 网站架构探测
当我们探测目标站点网站架构时，比如说：操作系统，中间件，脚本语言，数据库，服务器，web容器等等，CMS指纹识别又有很多方法，比如说御剑指纹识别、Webrobot工具、whatweb工具、还有在线查询的网站等等。常用的使用以下方法查询。
<blockquote><p>（1）wappalyzer插件——火狐插件</p><p>（2）云悉：<a href="http://www.yunsee.cn/info.html"><u>http://www.yunsee.cn/info.html</u></a></p><p>（3）查看数据包响应头</p><p>（4）CMS指纹识别：<a href="http://whatweb.bugscaner.com/look/"><u>http://whatweb.bugscaner.com/look/</u></a>&nbsp;</p></blockquote>
##### 敏感文件、敏感目录探测
敏感文件、敏感目录挖掘一般都是靠工具、脚本来找，当然大佬手工也能找得到。
常用的工具有(有事没事多加一些QQ群和TG群手动滑稽)：
<blockquote><p>（1）御剑</p><p style="text-align: justify;">（2）爬虫（AWVS、Burpsuite等）</p><p style="text-align: justify;">（3）搜索引擎（Google、Github等）</p><p style="text-align: justify;">（4）wwwscan</p><p style="text-align: justify;">（5）BBscan（一位巨佬写的python脚本：<a href="https://github.com/lijiejie/BBScan"><u>https://github.com/lijiejie/BBScan</u></a>&nbsp;）</p><p style="text-align: justify;">（6）GSIL（也是一位巨佬写的python脚本：<a href="https://github.com/FeeiCN/GSIL"><u>https://github.com/FeeiCN/GSIL</u></a>&nbsp;）</p>
<p style="text-align: justify;">（7）JSfinder(寻找网页js中的url与子域)<a href="https://github.com/Threezh1/JSFinder"><u>https://github.com/Threezh1/JSFinder</u></a>&nbsp;）</p></blockquote>

##### 邮箱与证书信息搜集
邮箱：
https://www.skymem.info/

##### waf探测
[看图识waf](https://blog.csdn.net/weixin_46676743/article/details/112245605)
（1）手工（提交恶意数据，简单粗暴）

（2）Kaili工具（WAFW00F、Nmap）
   	nmap  -p80,443  --script=http-waf-fingerprint  ip
   	nmap  -p80,443  --script=http-waf-detect  ip
   	wafw00f  -a  域名
#### 组织架构查询
<blockquote><p>天眼查：<a href="https://www.tianyancha.com/"><u>https://www.tianyancha.com/</u></a>&nbsp;</p><p>ICP备案查询网：<a href="http://www.beianbeian.com/"><u>http://www.beianbeian.com/</u></a>&nbsp;</p><p>国家企业信用信息公示系统：<a href="http://www.gsxt.gov.cn/index.html"><u>http://www.gsxt.gov.cn/index.html</u></a>&nbsp;</p></blockquote>
注意：国外的服务器一般来说是查不到的，因为他们不需要备案。国内的基本上都可以查到。如果在站长之家上隐藏了信息，可在who.is上再次查看。
ICP备案查询:https://beian.miit.gov.cn/#/Integrated/recordQuery
公安部备案查询：http://www.beian.gov.cn/portal/recordQuery 

站长之家可能会查到网站负责人：https://icp.chinaz.com/

### 二、其他平台资产收集
#### 平台信息
微信公众号和小程序还是用手机微信搜索 比较方便，当然也可以通过搜狗来发现目标大概有哪些公众号，但是最终还是得用手机测试抓包(PS:现在PC端微信抓包也很方便啦):[聚合搜索引擎](https://search.chongbuluo.com/)
除了微信公众号外，也可以在APP商城中和Google上通过反查开发者来尽可能多的收集目标的移动端资产、还可以通过开源工具[appinfo](https://github.com/cqkenuo/appinfoscanner)寻找app内有用的的静态信息。其他信息收集还包括脉脉、github、码云、语雀、钉钉、知乎、微博、贴吧、领英还有新媒体资产如：抖音小程序客服沟通。还有视频平台如：B站，youtube这些地方有时候也能找到自己需要的关键信息。以上信息多结合支付宝和微信的反查获取真实信息(站长工具给钱可以直接出备案的网站负责人)。
![](http://ftp.bmp.ovh/imgs/2021/06/553ba7c3ce9f5a45.png)

#### 网盘泄露
[聚合网盘](https://lzpan.com/)
![](http://ftp.bmp.ovh/imgs/2021/06/a1a20f10ffa4edb6.png)

#### 历史快照
可以看到一些删除过的网页有些也是会泄露一些信息的
<blockquote><p style="text-align: justify;">洞见微信聚合 :<a href="http://wechat.doonsec.com/"><u>http://wechat.doonsec.com/</u></a>&nbsp;</p><p style="text-align: justify;">快照查询 : <a href="https://2tool.top/"><u>https://2tool.top/</u></a>&nbsp;</p><p style="text-align: justify;">网页时光机（推荐）：<a href="http://www.wayback.com/"><u>http://www.wayback.com/</u></a>&nbsp;</p><p style="text-align: justify;">网页磁带机：<a href="https://archive.is/"><u>https://archive.is/</u></a>&nbsp;</p><p style="text-align: justify;"></blockquote>
### 三、网络空间搜索引擎与AI搜索
<blockquote><p style="text-align: justify;">ZoomEy：<a href="https://www.zoomeye.org/"><u>https://www.zoomeye.org/</u></a>&nbsp;</p><p style="text-align: justify;">FoFa：<a href="https://fofa.so/"><u>https://fofa.so/</u></a>&nbsp;</p><p style="text-align: justify;">Dnsdb：<a href="https://www.dnsdb.io/zh-cn/"><u>https://www.dnsdb.io/zh-cn/</u></a>&nbsp;</p><p style="text-align: justify;">Shodan：<a href="https://www.shodan.io/"><u>https://www.shodan.io/</u></a>&nbsp;</p><p style="text-align: justify;">Censys：<a href="https://censys.io/"><u>https://censys.io/</u></a>&nbsp;</p><p>御剑全家桶：<a href="http://www.moonsec.com/post-753.html"><u>http://www.moonsec.com/post-753.html</u></a>&nbsp;</p></blockquote>
这里我们使用fofa来举例，因为一般都是用的fofa许多工具也写了fofa的API对接方便后期和其他资源联动。fofa既可以搜索到部分子域名，也可以搜索到目标的各种系统，如OA、后台等等，而这些系统很容易成为突破口。还可以用来搜索一些开放的服务地址如pandownload的title，或者一些开源的特征都可以通过空间搜索引擎找到合适的url。
FoFa语法（官网下也有方便随时查询）
![](https://image.3001.net/images/20210321/1616306172_6056dffc0199a07453685.png)

AI搜索这边有很多如：newbing 、kimi、chatgpt、 poe聚合ai、AI0*0聚合客户端。(ps学会使用网上的模板更加灵活的利用ai完成自己的任务)[AI指令模板](https://newzone.top/chatgpt/)  -,推荐一个非常棒的ai导航站目前最全最良心的一个站点可全局站点搜索[ai-bot](https://ai-bot.cn/)与[ai研究院博客](https://www.aiyjs.com/)辅助用户使用ai的[chat提示](https://openprompt.co/)。	**这里记住一个用好机器人公式=定义角色+背景任务+任务目标+输出要求**

![](https://s1.ax1x.com/2023/04/03/pphZTRH.png)

### 四、分析软件外部请求

有一些流量信息再软件通过证书加密里面没有直接暴露再公网上的话可以通过手机端的ap进行抓包分析流量，电脑端也可以通过Proxifier+burpsuite或者fd抓包分析流量，移动端的流量说不定没有套cdn可以直接找到真实的地址。

当然也可以通过在线的网络沙箱检测来检测软件行为与外部联网
(1)大圣云沙箱:https://sandbox.freebuf.com/user
![](http://ftp.bmp.ovh/imgs/2021/06/fffd82177ccc2ced.png)
(2)Virustatal:https://www.virustotal.com/gui/home/search
![](http://ftp.bmp.ovh/imgs/2021/06/b60deb930313a615.png)

### 五、泄露渠道
#### 公开漏洞泄露平台
乌云漏洞库：https://wooyun.x10sec.org/
cve漏洞平台:https://www.vulncode-db.com/
exploit利用模块:https://sploitus.com/
POC收集模块:http://wiki.peiqi.tech/Goby%20&%20POC.html
安全客搜索:https://www.anquanke.com/vul
exploit-data数据库:https://www.exploit-db.com/
Qingy漏洞库:http://wiki.xypbk.com/index.md
#### 内部泄露
在QQ群中搜索目标关键字，加群即可，然后根据群内聊天内容，适当调整木马名称上传至群共享，上线率极高。企业内部宏文档，图片马，解压缩文件，点击劫持，flash钓鱼和组件钓鱼，还有js内部文件的泄露。
#### 社工库泄露
[信息安全群](https://t.me/tgInternetSecurity)
[tg公开泄露](https://t.me/SGKmainNEWbot?start=IVT2754A054):
![](http://ftp.bmp.ovh/imgs/2021/06/07c97324a8621a7c.png)
[公开数据泄露](http://www.qbcxw.top/TvjvF2Nb4mpIub7L7c/index.html)：
![](http://ftp.bmp.ovh/imgs/2021/06/09de3fba63cd3826.png)
飞机上还有很多黑渠道这些大家也都知道的，可以想象一下个人隐私再目前又多么开放。

### 六、深网泄露
（1）可以把母语翻译成其他国家的语言然后去Google进行搜索最后再以web翻译的形式进行查看可以发现很多新大陆的信息（注意了解国外人的发音与方言可以配合DeepL翻译多试几种翻译结果。
（2） 筛选国家和地区来找到对应需要的资源。
	![](http://ftp.bmp.ovh/imgs/2021/06/904108970cc00afb.png)

#### tg电报群搜索
telegram（TG）在中国也叫电报，是个国外的聊天工具，提供频道、群组、机器人等功能。这里收集了多种功能不同的机器人，机器人可以帮助管理群组，可以提供翻译，可以代下文件，可以提醒网站更新等。而且可以发掘许多免费的资源以及一些小道情报，你还可以在这里找到各种神器的产业。以下推荐几个搜索工具


> 搜索引擎：[TG中文搜索引擎](https://www.sssoou.com/)与[千fan搜索 ](tg.qianfan.app) 备用：[tg搜索](https://tgsou.me/)
>
> tg机器人： [@hao1234bot](https://t.me/hao1234bot) 【超级索引】 与@jisou2bot

#### 暗网搜索引擎
暗网是互联网站点的隐藏集合，只能通过专门的网络浏览器访问。它用于保持互联网活动的匿名性和私密性，这对合法和非法应用程序都有帮助。虽然有些人用它来逃避政府审查，但众所周知，它也被用于高度非法的活动。<b>为避免被骗，您需要通过网络上的明智行为来保护自己。不是每个人都像他们看起来的那样。保持安全需要您注意与谁交谈以及访问的地方。如果感觉不对劲，应该马上停止浏览并及时采取行动让自己脱离现状使用的身份也尽量不要真实包括互联网信息</b>下面推荐几个深网的搜索引擎方便搜寻资料：
1.msydqstlz2kzerdg.onion--Ahmia（推荐）
  msydqstlz2kzerdg.onion/i2p--Ahmia i2p引擎
Ahmia会自动检测到错误的.onion链接并将其列入数据库黑名单，并且还会维护其最多链接访问图表
![](https://www.ddosi.org/wp-content/uploads/2020/03/Ahmia.jpg)
2.dnmugu4755642434.onion--药品科普搜索引擎
3.3g2upl4pq6kufc4m.onion--DuckDuckGo搜索引擎

### 七、文本信息处理

通常生活中获取了信息会处理文本数据以及过滤、替换一些有用信息，这个时候就需要设计到文本提取了。通常用到的软件有如下：

> 实用插件参考:https://zhuanlan.zhihu.com/p/40515363
>
> 通配符参考：http://www.360doc.com/content/22/0121/23/51704_1014370647.shtml
>

- Word--通配符替换

- excel-通配符、公式、标准换行数据格式

- sublime_text--轻量级快捷操作文本，支持高亮批量编辑，正则查找等

- 正则表达式自动生成器--可以和支持正则的文本处理软件配合提取文本

- 在线工具处理--[txttool](http://www.txttool.com/)或abc工具箱

- 循环替换工具--[吾爱zhangbo093](https://www.52pojie.cn/thread-562290-1-1.html)

- 正则提取-[ai正则提取](https://regex.ai/)（这里同样可以借助对ai的互动来获取思路以及巧用插件来提取目标数据。）

  下面是CODE类编辑器通用快捷键

> ctrl+shift+p 调出命令面板
> alt+鼠标左键 选中多行同时编辑
> ctrl+shift+L 选中编辑代码中相同的内容
> 选中多行,按tab键可统一向右移动
> 选中文本后,Ctrl + [ 和 Ctrl + ] 可实现文本的向左移动 和 向右移动
> 按住Ctrl + Alt，再按键盘上的上或下键，可以使一列上出现多个光标。
> 选中一段文字，按shift+alt+i，在每行末尾都会出现光标
> 按shift+alt，再使用鼠标拖动，也可以出现竖直的列光标，同时可以选中多列。
> 按ctrl+f，ctrl+H可以搜索当前页面与替换

### 八、总结：

上面讲了这么多在互联网时代信息的获取与处理成为了一项基本技能,一个团队共同分工并把每个环节公示出来也是可以参考的。有效的信息收集与思维复盘不仅能够帮助我们更好地理解世界，还能够提高我们的决策质量、创新能力和问题解决能力。下面是笔者整理的一个流程：

**明确信息收集与目的**>**选择合适的信息源与工具**>**整理信息转化为自己能理解的**>**解决当前问题**>**思考提问与自问是否有遗漏点**>**复盘记录与总结**

最好把上面的每一个步骤都通过书写和绘图的方式呈现出来，这样可以非常直观的来处理问题，方便后续在某一个点遇到卡壳的时候快速的定位问题环节。

这里再贴一张人月聊it的逻辑图让自己以后能够更好的来构建自己的思维架构。

![](https://s21.ax1x.com/2024/04/11/pFXMycT.png)





